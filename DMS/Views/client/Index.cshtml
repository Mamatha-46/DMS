@model X.PagedList.IPagedList<prospectviewmodel>

@{ ViewData["Title"] = "Index";
                Layout = "~/Views/Shared/_LayoutAdmin.cshtml"; }


<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/css/theme.bootstrap_4.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.min.js"></script>

    <style>
        .ellipse {
            display: inline-block;
            width: 50px; /* Adjust the width to fit your desired size */
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        #ETEXX {
            background-color: #0ABB87;
            color: white;
            font-size: 0.875rem;
            line-height: 1;
        }

        #ETE:hover {
            background-color: #0ABB87;
        }

        #ETE {
            background-color: navy;
            color: white;
            font-size: 0.875rem;
            line-height: 1;
        }

            #ETE:hover {
                background-color: #189AB4;
            }

        body {
            font-size: 1rem;
            font-family: "pt-sans-regular", sans-serif;
            font-weight: initial;
        }
    </style>
    <link rel="stylesheet" href="~/css/css/table.css" />
</head>


@using (Html.BeginForm("Import", "client", FormMethod.Post, new { enctype = "multipart/form-data" }))
{

<form method="post" enctype="multipart/form-data" action="/client/Import">
    <button type="button" id="ETEXX" class="btn btn-primary" data-toggle="modal" data-target="#importModal" style="margin-top:10px">
        Import
    </button>

    <div class="modal fade" id="importModal" tabindex="-1" role="dialog" aria-labelledby="importModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="importModalLabel">Import File</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="fileInput">Choose File:</label>
                        <input type="file" id="fileInput" name="excelFile" accept=".xlsx" />
                    </div>
                    <button type="submit" class="btn btn-primary">Import</button>
                </div>
            </div>
        </div>
    </div>
</form>}
<div style="margin-top:4px;width:1200px">  
    <form action="@Url.Action("Index")" method="get" class="form-inline mb-3 ml-auto">
        <button style="border:none">
            <a asp-action="ExportToExcel" id="ETE" class="btn btn-primary">ExportToExcel</a>
        </button>
        <input type="text" name="searchString" class="form-control mr-2" style="width:300px; margin-left:20%" placeholder="Search...">
        <button type="submit" id="ETE" class="btn btn-primary">Search</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button style="border:none">
            <a asp-action="CreateResellerProspect" id="ETE" class="btn btn-primary"><i class="fa fa-plus"></i>Add Client</a>
        </button>

    </form>
</div>

<div class="row" style="margin-left:5%; text-align:center">


    <table class="table tablesorter">

        <thead>
            <tr>
                <th class="header" style="text-align: center; width: 150px">Reseller<i class="fa fa-sort"></i></th>
                <th class="header" style="text-align: center; width: 150px">Client Name<i class="fa fa-sort"></i></th>
                <th class="header" style="text-align: center; width: 150px">Contact Name<i class="fa fa-sort"></i></th>
                <th class="header" style="text-align: center; width: 150px" Phone No<i class="fa fa-sort"></i></th>
                <th class="header" style="text-align: center; width: 150px">Email<i class="fa fa-sort"></i></th>
                <th class="header" style="text-align: center; width: 150px">Country<i class="fa fa-sort"></i></th>
                


                <th>Action</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {

<tr>

    <td style="height:10px">@Html.DisplayFor(modelItem => item.UserFname)</td>
    <td style="height:10px">@Html.DisplayFor(modelItem => item.Name)</td>
    <td style="height:10px">@Html.DisplayFor(modelItem => item.CPerson)</td>
    <td style="height:10px">@Html.DisplayFor(modelItem => item.Number)</td>
    <td style="height:10px">@Html.DisplayFor(modelItem => item.Email)</td>
    <td style="height:10px">@Html.DisplayFor(modelItem => item.CountryName)</td>



    <td>
        <a asp-action="Edit" asp-route-id="@item.Id"><i class="fa  fa-pen">Edit</i> </a>

    </td>
</tr>            }
        </tbody>
    </table>
    <nav>
        <ul class="pagination">
            <li class="page-item @(Model.HasPreviousPage ? "" : "disabled")">
                <a class="page-link" href="@Url.Action("Index", new { page = Model.PageNumber - 1, sortOrder = ViewBag.SortOrder, searchString = ViewBag.SearchString })" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
            </li>
            @for (int i = 1; i <= Model.PageCount; i++)
            {
<li class="page-item @(i == Model.PageNumber ? "active" : "")">
    <a class="page-link" href="@Url.Action("Index", new { page = i, sortOrder = ViewBag.SortOrder, searchString = ViewBag.SearchString })">@i</a>
</li>            }
            <li class="page-item @(Model.HasNextPage ? "" : "disabled")">
                <a class="page-link" href="@Url.Action("Index", new { page = Model.PageNumber + 1, sortOrder = ViewBag.SortOrder, searchString = ViewBag.SearchString })" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
            </li>
        </ul>
    </nav>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".dropdown-toggle").click(function (e) {
                e.preventDefault();
                $(this).siblings(".dropdown-menu").toggle();
            });
        });
        //$(document).ready(function () {
        //    debugger;
        //    $(".tablesorter").tablesorter({
        //        theme: "bootstrap",
        //        headerTemplate: "{content} {icon}",
        //        widgets: ["zebra"],
        //        sortList: [[0, 0]]
        //    });
        //});


        $(function () {
            $(".tablesorter").tablesorter();
        });


    </script>
}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script>
    $(document).ready(function () {
        $('#importModal').on('hidden.bs.modal', function () {
            $(this).find('form')[0].reset();
        });
    });
</script>